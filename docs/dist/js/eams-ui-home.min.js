$(function(){var a=$("#date-ticker");!function e(){var b=moment();a.text(b.format("YYYY-MM-DD")),setTimeout(e,6e4)}();var b=$("#clock-ticker .hour"),c=$("#clock-ticker .minute"),d=$("#clock-ticker .second");!function f(){var a=moment();b.text(a.format("HH")),c.text(a.format("mm")),d.text(a.format("ss")),setTimeout(f,1e3)}()}),+function(a){"use strict";function b(b){var c,d=arguments;return this.each(function(){var e=a(this),f=e.data("navigation");if(!f){var g=a.extend(!0,{},a.fn.navigation.defaults,"object"==typeof b&&b);e.data("navigation",f=new z(this,g))}if("string"==typeof b)if(1==d.length){var h=f[b].call(f);"undefined"!=typeof h&&(c=h)}else{var h=f[b].apply(f,Array.prototype.slice.call(d,1));"undefined"!=typeof h&&(c=h)}}),"undefined"!=typeof c?c:this}var c=a("body"),d="fa fa-times-circle",e="pull-right e-tab-close-icon",f="a[target]:not(.e-tab-close-icon)",g="a.active[target]:not(.e-tab-close-icon)",h=a("#e-op-area .e-page-header h2 span"),i=a("#e-op-area .e-op-area-iframe-container"),j=a("#e-home-tab-close-current"),k=a("#e-home-tab-close-all"),l="e-home-iframe",m=a("#e-home-tab-list"),n=a("#e-home-tab-count div"),o=0,p=0,q=a("#e-top-menu"),r=function(a){var b=a.find("span"),c=a.attr("target");i.find("iframe").hide(),i.find("iframe[name="+c+"]").show(),c===l?j.hide():j.show(),t(b.text()),s(a),q.find("li.children").remove(),q.navigation("updateMenu",q.find("a[target="+c+"]")),q.navigation("disabledMenu",q.find("a[target="+c+"]")),u()},s=function(a){m.find(f).removeClass("active"),a.addClass("active")},t=function(a){h.text(a)},u=function(){c.scrollTop(0)},v=function(){p++,n.text(p),p&&j.show()},w=function(){x(m.find(g))};j.click(function(a){a.preventDefault(),w()});var x=function(a){var b=a.closest("li"),c=b.find(f);if(c.is(".active")){var d=b.next();d.length||(d=b.prev()),r(d.find(f))}var e=c.attr("target");i.find("iframe[name="+e+"]").remove(),b.remove(),y()},y=function(){p--,n.text(p),0==p&&(n.empty(),j.hide())};k.click(function(a){a.preventDefault(),m.find(f).filter(":not(#e-home-tab-home)").parent().remove(),i.find("iframe:not(#e-home-iframe)").remove(),r(m.find(f)),p=0,n.empty(),j.hide()}),m.find("a:not([data-toggle])").click(function(b){b.preventDefault(),r(a(this))}),a('a[data-open="tab-view"]').click(function(b){b.preventDefault(),q.navigation("menuClick",a(this))});var z=function(b,c){this.options=c,this.$container=a(b)};z.VERSION="0.0.1",z.prototype.initMenu=function(b,c){function d(c){return b.filter(function(a){return a.parentId===c}).map(function(c){var e=b.some(function(a){return a.parentId===c.id}),g=a("<ul></ul>").addClass("dropdown-menu").attr("aria-labelledby","drop_"+c.id),i=e?g.append(d(c.id)):"",j=a("<li></li>"),k=a("<a></a>");return k.attr("id","drop_"+c.id),k.attr("href",c.href),k.text(c.title),c.href===f&&(k.attr("target","e-home-iframe"),h.text(c.title)),c.parentId&&k.attr("parentId","drop_"+c.parentId),k.attr("appendDivider",c.appendDivider),""!=i&&j.addClass("dropdown-submenu"),j.append(k).append(i)})}var e=i.find("iframe[name="+l+"]"),f=e.attr("src"),g=a("<li class='dropdown home dropdown-hover'></li>"),h=a("<a></a>").addClass("dropdown-toggle").attr("role","button").attr("data-toggle","dropdown").attr("aria-haspopup",!0).attr("aria-expanded",!1).attr("href","#"),j=a("<ul></ul>").addClass("dropdown-menu").attr("aria-labelledby","drop_0"),k=d(c);k&&0!=k.length&&(a.each(k,function(a,b){j.append(b)}),g.append(h.append("<span class='caret'></span>")).append(j),g.find("[appendDivider=true]").each(function(){a(this).closest("li").after("<li class='divider'></li>")}),this.$container.append(g))},z.prototype.updateMenu=function(b){var c=b.attr("parentId"),d=this.$container.find("ul[aria-labelledby='"+c+"']").removeAttr("style");if(0!=d.length){var e=a("<li></li>").addClass("dropdown children dropdown-hover"),f=a("<a></a>").addClass("dropdown-toggle").attr("role","button").attr("data-toggle","dropdown").attr("aria-haspopup",!0).attr("aria-expanded",!1).text(b.text());e.append(f),d.find("li").length>1&&(f.append("<span class='caret'></span>"),e.append(d.clone(!0))),this.$container.find("li:first").after(e);var g=this.$container.find("a[id='"+c+"']");this.updateMenu(g)}else this.$container.find("li a:first").text(b.text()).append("<span class='caret'></span>");a(".dropdown-hover a[class='dropdown-toggle']").dropdownHover()},z.prototype.menuClick=function(b){var c=b.attr("href");t(b.text());var g=i.find('iframe[src="'+c+'"]');if(g.length>0){i.find("iframe:not(:hidden)").hide(),g.show(),g.attr("src",c);var h=m.find(f).filter("[target='"+g.attr("name")+"']");return s(h),g.attr("id")===l?j.hide():j.show(),void a(g[0].contentDocument).find(".index").remove()}o++;var k="e-home-iframe-"+o;i.find("iframe:not(:hidden)").hide(),a("<iframe></iframe>").addClass("embed-responsive-item").attr("name",k).attr("src",b.attr("href")).attr("frameBorder","0").appendTo(i),b.attr("target",k),this.$container.find("a[id='"+b.attr("id")+"']").attr("target",k);var h=a("<a></a>").attr("href","#").attr("target",k).append(a("<span></span>").text(b.text())).click(function(b){b.preventDefault(),r(a(this))}),n=a("<a></a>").attr("href","#").attr("target",k).attr("class",e).append(a("<i></i>").attr("class",d)).click(function(b){b.preventDefault(),x(a(this))});s(h),a("<li></li>").append(h).append(n).appendTo(m),v(),u()},z.prototype.disabledMenu=function(a){this.$container.find("li").removeClass("disabled"),a.closest("li").addClass("disabled")},z.prototype.generateMenus=function(b,d){this.initMenu(b,d);var e=this;a("#e-top-menu a").on("click",function(b){return a(this).attr("href")&&"#"!=a(this).attr("href")?(b.preventDefault(),e.$container.find("li.children").remove(),e.updateMenu(a(this)),c.find(".dropdown-toggle-hover").removeClass("dropdown-toggle-hover"),e.menuClick(a(this)),void e.disabledMenu(q.find("a[id='"+a(this).attr("id")+"']"))):(this.style.backgroundColor="transparent",!1)}),a(".dropdown-hover a:first").dropdownHover()},z.prototype.closeAll=function(){m.find(f).filter(":not(#e-home-tab-home)").parent().remove(),i.find("iframe:not(#e-home-iframe)").remove(),r(m.find(f)),p=0,n.empty(),j.hide()};var A=a.fn.navigation;a.fn.navigation=b,a.fn.navigation.Constructor=z,a.fn.navigation.defaults={},a.fn.navigation.locales={},a.fn.navigation.noConflict=function(){return a.fn.navigation=A,this}}(jQuery);