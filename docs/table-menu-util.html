---
layout: default
title: Table Menu Util
---


<div class="row">
  <div class="col-sm-12">
    <section>
      <h2>Dynamic Table</h2>

      <p>
        Doc: <a target="_blank" href="http://supwisdom.github.io/bootstrap-semi-auto-table/">Bootstrap Semi-Auto
        Table</a>
      </p>
    </section>
  </div>
</div>


<table id="table">
  <thead>
  <tr>
    <th></th>
    <th><a href="#" data-sort-by="A">Column A</a></th>
    <th><a href="#" data-sort-by="B">Column B</a></th>
    <th><a href="#" data-sort-by="C">Column C</a></th>
    <th>Column D</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><input type="checkbox" name="row.id" value="1"/></td>
    <td>a</td>
    <td>b</td>
    <td>c</td>
    <td>d</td>
  </tr>
  <tr>
    <td><input type="checkbox" name="row.id" value="2"/></td>
    <td>a</td>
    <td>b</td>
    <td>c</td>
    <td>d</td>
  </tr>
  </tbody>
</table>
<form id="form1"></form>
<script>
  $(function () {
    var $table = $("#table");
    $table.semiAutoTable({
      sortOption: {
        'A': 'asc',
        'B': 'desc'
      },
      menus: [
        {
          title: 'add',
          tooltip: 'tooltip',
          callback: function () {
            FormUtil.get({
              form : $("<form></form>"),
              url : "/add?id=null",
              target: "e-home-iframe-1"
            });
          }
        },
        {
          title: 'edit',
          callback: function () {
            console.log(JSON.stringify($table.semiAutoTable('getSelectedRows')));
          }
        },
      ],
      pageOption: {
        currentPage: 11,
        totalPages: 20,
        totalRows: 202
      }
    }).on('pageChange', function (event, pageObject) {

      console.log(JSON.stringify(pageObject));
      $(this).semiAutoTable('updatePaginator', pageObject);

    }).on('sortChange', function (event, sortObject) {

      console.log(JSON.stringify(sortObject));
      var $this = $(this);
      $this.semiAutoTable('updateSortBy', sortObject);

    });
  });
</script>

<div class="row">
  <div class="col-sm-12">
      {% highlight html %}
        FormUtil.get({
          form : $("<form></form>"),
          url : "/add",
          params: {"id" : $table.semiAutoTable('getSelectedRows')},
          target: null
        });
      {% endhighlight %}
  </div>
</div>

<hr/>

<div class="row">
  <div class="col-sm-12">
    <section>
      <h2>Options</h2>
    </section>
  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <table class="table table-striped table-hover table-condensed">
      <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>url</td>
        <td>string</td>
        <td>"#"</td>
        <td>
          "form" 标签的action属性
        </td>
      </tr>
      <tr>
        <td>params</td>
        <td>array of hash</td>
        <td>[]</td>
        <td>
          向form表单中添加的隐藏input域<br/>
          example:<code>{name :$table.semiAutoTable('getSelectedRows')}</code>
        </td>
      </tr>
      <tr>
        <td>target</td>
        <td>string</td>
        <td>null</td>
        <td>
          为null表示提交当前iframe, 可以指定iframe的name属性作为参数
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<hr/>

<div class="row">
  <div class="col-sm-12">
    <section>
      <h2>Methods</h2>
    </section>
  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <h4>
      <code>FormUtil.get(option)</code>
    </h4>
    <p>提交form工具, 发送get请求</p>
    <hr/>
    <h4>
      <code>FormUtil.post(option)</code>
    </h4>
    <p>提交form工具, 发送post请求</p>
  </div>
</div>
